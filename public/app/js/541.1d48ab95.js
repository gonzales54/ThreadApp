"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[541],{8738:function(e,t,l){l.d(t,{Z:function(){return u}});var n=l(3396),a=l(7139);function o(e,t,l,o,i,r){return(0,n.wg)(),(0,n.iD)("h2",null,(0,a.zw)(e.msg.msg),1)}var i=(0,n.aZ)({props:{msg:{type:Object}}}),r=l(89);const s=(0,r.Z)(i,[["render",o]]);var u=s},5541:function(e,t,l){l.r(t),l.d(t,{default:function(){return T}});var n=l(3396),a=l(9242),o=l(7139);const i={class:"UserUpdate"},r={class:"mb-5 px-sm-5 px-3 pt-1 overflow-hidden"},s={key:0,class:"w-50 mx-auto px-sm-4 py-sm-4 bg-white text-center align-items-center border"},u={method:"post",enctype:"multipart/form-data",class:"mb-3 text-left"},c={class:"form-group"},m=(0,n._)("label",{for:"thread_title"},"ユーザー名",-1),p={class:"form-group"},d=(0,n._)("label",{for:"genre"},"自己紹介",-1),g={class:"image-form-group d-flex form-group"},f={class:"w-50 px-1"},b=["src"],v={class:"w-100 px-1 py-2 text-center"},w={class:"w-50 px-1"},h=["src"],_={class:"w-100 px-1 py-2 text-center d-block"},k={key:1,class:"w-100 mt-5 mx-auto px-sm-4 px-3 py-sm-4 py-4 bg-white text-center align-items-center border"},x={method:"post",enctype:"multipart/form-data",class:"mb-3 text-left"},y={class:"form-group"},U=(0,n._)("label",{for:"thread_title"},"ユーザー名",-1),B={class:"form-group"},P=(0,n._)("label",{for:"thread_title"},"自己紹介",-1),F={class:"image-form-group d-flex form-group"},V={class:"w-50 px-1"},C=["src"],D={class:"w-100 px-1 py-2 text-center"},L={class:"w-50 px-1"},W=["src"],H={class:"w-100 px-1 py-2 text-center d-block"};function M(e,t,l,M,Z,z){const R=(0,n.up)("NavBar"),A=(0,n.up)("BigTitleAtomVue"),I=(0,n.up)("ButtonAtomVue"),$=(0,n.up)("RouterLinkAtomVue"),j=(0,n.up)("FooterBar");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(R),(0,n._)("main",r,[e.store.state.userMobile>768?((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(A,{class:"h2 mb-4 d-inline-block",msg:{msg:"ユーザー情報編集"}}),(0,n._)("form",u,[(0,n._)("div",c,[m,(0,n.wy)((0,n._)("input",{type:"text",name:"name",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),autocomplete:"on",placeholder:"ユーザー名を入力してください"},null,512),[[a.nr,e.name]])]),(0,n._)("div",p,[d,(0,n.wy)((0,n._)("textarea",{name:"introduction",id:"introduction",class:"form-control shadow-none","onUpdate:modelValue":t[1]||(t[1]=t=>e.introduction=t),cols:"30",rows:"4",placeholder:"自己紹介を入力してください"},null,512),[[a.nr,e.introduction]])]),(0,n._)("div",g,[(0,n._)("div",f,[(0,n.Uk)(" プロフィール画像 "),(0,n._)("img",{src:`${e.fileProfilePath}`,class:"w-100 mt-1 mb-3 image-preview border"},null,8,b),(0,n._)("label",v,[(0,n._)("input",{type:"file",name:"",id:"",ref:"fileProfileImage",onChange:t[2]||(t[2]=(...t)=>e.changeFile&&e.changeFile(...t))},null,544),(0,n.Uk)("ファイル選択 ")]),(0,n._)("p",null,(0,o.zw)(e.profileMsg),1)]),(0,n._)("div",w,[(0,n.Uk)(" 背景画像 "),(0,n._)("img",{src:`${e.fileBackgroundPath}`,class:"w-100 mt-1 mb-3 image-preview border"},null,8,h),(0,n._)("label",_,[(0,n._)("input",{type:"file",name:"",id:"",ref:"fileBackgroundImage",onChange:t[3]||(t[3]=(...t)=>e.changeFile&&e.changeFile(...t))},null,544),(0,n.Uk)("ファイル選択 ")]),(0,n._)("p",null,(0,o.zw)(e.backgroundMsg),1)])]),(0,n.Wm)(I,{class:"btn btn-block",button:{type:"submit",msg:"更新"},onClick:e.upDate},null,8,["onClick"])]),(0,n.Wm)($,{link:{to:"/",msg:"ホームに戻る"},class:"text-primary",style:{"text-decoration":"underline"}})])):((0,n.wg)(),(0,n.iD)("div",k,[(0,n.Wm)(A,{class:"h2 mb-4 d-inline-block",msg:{msg:"ユーザー情報編集"}}),(0,n._)("form",x,[(0,n._)("div",y,[U,(0,n.wy)((0,n._)("input",{type:"text",name:"name",id:"name",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=t=>e.name=t),autocomplete:"on",placeholder:"ユーザー名を入力してください"},null,512),[[a.nr,e.name]])]),(0,n._)("div",B,[P,(0,n.wy)((0,n._)("textarea",{name:"introduction",id:"introduction",class:"form-control shadow-none","onUpdate:modelValue":t[5]||(t[5]=t=>e.introduction=t),cols:"30",rows:"6",placeholder:"自己紹介を入力してください"},null,512),[[a.nr,e.introduction]])]),(0,n._)("div",F,[(0,n._)("div",V,[(0,n.Uk)(" プロフィール画像 "),(0,n._)("img",{src:`${e.fileProfilePath}`,class:"w-100 mt-1 mb-3 image-preview border"},null,8,C),(0,n._)("label",D,[(0,n._)("input",{type:"file",name:"",id:"",ref:"fileProfileImage",onChange:t[6]||(t[6]=(...t)=>e.changeFile&&e.changeFile(...t))},null,544),(0,n.Uk)("ファイル選択 ")]),(0,n._)("p",null,(0,o.zw)(e.profileMsg),1)]),(0,n._)("div",L,[(0,n.Uk)(" 背景画像 "),(0,n._)("img",{src:`${e.fileBackgroundPath}`,class:"w-100 mt-1 mb-3 image-preview border"},null,8,W),(0,n._)("label",H,[(0,n._)("input",{type:"file",name:"",id:"",ref:"fileBackgroundImage",onChange:t[7]||(t[7]=(...t)=>e.changeFile&&e.changeFile(...t))},null,544),(0,n.Uk)("ファイル選択 ")]),(0,n._)("p",null,(0,o.zw)(e.backgroundMsg),1)])]),(0,n.Wm)(I,{class:"btn btn-block",button:{type:"submit",msg:"更新"},onClick:e.upDate},null,8,["onClick"])]),(0,n.Wm)($,{link:{to:"/",msg:"ホームに戻る"},class:"text-primary",style:{"text-decoration":"underline"}})]))]),(0,n.Wm)(j)])}var Z=l(8738),z=l(5951),R=l(1579),A=l(4870),I=l(65),$=l(2483),j=(0,n.aZ)({name:"LoginView",components:{BigTitleAtomVue:Z.Z,ButtonAtomVue:z.Z,RouterLinkAtomVue:R.Z},setup(){const e=(0,$.tv)(),t=(0,I.oR)(),l=(0,A.iH)(""),a=(0,A.iH)(""),o=(0,A.iH)(null),i=(0,A.iH)(null),r=(0,A.iH)("選択されていません"),s=(0,A.iH)("選択されていません"),u=(0,A.iH)(t.state.user.profile_picture),c=(0,A.iH)(t.state.user.background_picture),m=()=>{t.commit("setUserMobile",window.innerWidth)},p=n=>{n.preventDefault(),""===l.value&&(l.value=t.state.user.name),""===a.value&&(a.value=t.state.user.introduction);const r=new FormData;r.append("name",l.value),r.append("introduction",a.value),0!==o.value.files.length?r.append("profile",o.value.files[0]):r.append("profile",""),0!==i.value.files.length?r.append("background",i.value.files[0]):r.append("background",""),t.dispatch("updateUser",{id:t.state.user.id,formData:r}),e.go(-1)},d=()=>{if(0!==o.value.files.length){let e=o.value.files[0];u.value=URL.createObjectURL(e),r.value=e.name}if(0!==i.value.files.length){let e=i.value.files[0];c.value=URL.createObjectURL(e),s.value=e.name}};return(0,n.bv)((()=>{m(),window.addEventListener("resize",m)})),(0,n.Jd)((()=>{window.removeEventListener("resize",m)})),{store:t,name:l,introduction:a,fileProfileImage:o,fileBackgroundImage:i,profileMsg:r,backgroundMsg:s,fileProfilePath:u,fileBackgroundPath:c,upDate:p,changeFile:d}}}),O=l(89);const E=(0,O.Z)(j,[["render",M]]);var T=E}}]);
//# sourceMappingURL=541.1d48ab95.js.map