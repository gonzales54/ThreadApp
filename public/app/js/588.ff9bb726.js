"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[588],{7721:function(e,t,s){s.d(t,{Z:function(){return u}});var a=s(3396),n=s(7139);function r(e,t,s,r,l,o){const i=(0,a.up)("RouterLinkAtomVue");return(0,a.wg)(),(0,a.iD)("li",{class:(0,n.C_)(e.link.class)},[(0,a.Wm)(i,{link:e.link,class:(0,n.C_)(e.link.link_class)},null,8,["link","class"])],2)}var l=s(1579),o=(0,a.aZ)({name:"RouterLinkMolecules",components:{RouterLinkAtomVue:l.Z},props:{link:{type:Object}}}),i=s(89);const c=(0,i.Z)(o,[["render",r]]);var u=c},934:function(e,t,s){s.d(t,{Z:function(){return h}});var a=s(3396);const n={class:"p-0 text-left"},r={class:"list-group"},l={key:0,class:"px-4 py-2 list-group-item"};function o(e,t,s,o,i,c){const u=(0,a.up)("SmallTitleAtomVue"),m=(0,a.up)("RouterLinkMoleculesVue");return(0,a.wg)(),(0,a.iD)("aside",null,[(0,a._)("div",n,[(0,a.Wm)(u,{class:"h4 mb-sm-4 mb-3",msg:{msg:e.SideBarItem.msg}},null,8,["msg"]),(0,a._)("ul",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.store.state.tags,(e=>((0,a.wg)(),(0,a.j4)(m,{key:e.id,link:{to:`/tags/${e.id}`,msg:`${e.tag}`,class:"p-0 py-1 list-group-item",link_class:"px-4 py-2 d-block"}},null,8,["link"])))),128)),0===e.store.state.tags.length?((0,a.wg)(),(0,a.iD)("li",l,"他のタグはまだありません")):(0,a.kq)("",!0)])])])}var i=s(9031),c=s(7721),u=s(65),m=s(2483),g=(0,a.aZ)({name:"SideBar",props:{SideBarItem:{type:Object}},components:{SmallTitleAtomVue:i.Z,RouterLinkMoleculesVue:c.Z},setup(){const e=(0,u.oR)(),t=(0,m.yj)(),s=(t,s)=>{e.dispatch("getTags",{id:t,path:s})};return(0,a.bv)((()=>{s(t.params.id,t.name)})),(0,m.ao)((e=>{s(e.params.id,e.name)})),{store:e,route:t}}}),d=s(89);const p=(0,d.Z)(g,[["render",o]]);var h=p},6282:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var a=s(3396),n=s(7139);const r=e=>((0,a.dD)("data-v-1c9c0f31"),e=e(),(0,a.Cn)(),e),l={class:"HomeView position-relative"},o={key:0,class:"w-75 mx-auto mb-5 px-lg-5 px-3"},i={class:"mb-3 row"},c={class:"px-0 col-sm-8"},u={class:"mb-4 d-flex mx-auto"},m={class:"mb-0"},g={key:0,class:"mb-4 p-4 card"},d=r((()=>(0,a._)("p",null,"スレッドはまだありません",-1))),p={key:0,class:"pagination"},h={class:"mx-auto d-inline-block"},k={key:1,class:"w-100 mx-auto mb-5 px-lg-5 px-3 row"},v={class:"mx-auto px-0 col-sm-10"},b={class:"mb-4 d-flex mx-auto"},w={class:"mb-0"},_={key:0,class:"mb-4 p-4 card"},y=r((()=>(0,a._)("p",null,"スレッドはまだありません",-1))),D={key:0,class:"pagination"},x={class:"mx-auto d-inline-block"};function f(e,t,s,r,f,T){const C=(0,a.up)("NavBar"),H=(0,a.up)("BigTitleAtomVue"),V=(0,a.up)("RouterLinkMoleculesVue"),Z=(0,a.up)("ArticleOrganismsVue"),W=(0,a.up)("RouterLinkAtom"),R=(0,a.up)("SideBarOrganismsVue"),M=(0,a.up)("ButtonAtomVue"),A=(0,a.up)("FooterBar");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(C),e.store.state.userMobile>768?((0,a.wg)(),(0,a.iD)("main",o,[(0,a._)("section",i,[(0,a._)("div",c,[(0,a.Wm)(H,{class:"h1 m-0 mb-4 text-sm-left text-center",msg:{msg:"スレッド一覧"}}),(0,a._)("ul",u,[(0,a.Wm)(V,{onMouseover:t[0]||(t[0]=t=>e.isPopularHovering=!0),onMouseleave:t[1]||(t[1]=t=>e.isPopularHovering=!1),class:(0,n.C_)([!0===e.isPopularHovering?"hovering":"",this.$route.path.match(/popular_thread/)?"hovering":""]),link:{to:"/popular_thread",msg:"人気なスレッド",class:"popular_thread mr-3 ml-sm-0",link_class:""}},null,8,["class"]),(0,a.Wm)(V,{onMouseover:t[2]||(t[2]=t=>e.isRecentHovering=!0),onMouseleave:t[3]||(t[3]=t=>e.isRecentHovering=!1),class:(0,n.C_)([!0===e.isRecentHovering?"hovering":"",this.$route.path.match(/recent_thread/)?"hovering":""]),link:{to:"/recent_thread",msg:"最近のスレッド",class:"recent_thread ml-3 mr-sm-0",link_class:""}},null,8,["class"])]),(0,a._)("ul",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.sortThread(e.store.getters.returnThreadData,e.route.name),(e=>((0,a.wg)(),(0,a.j4)(Z,{class:"mb-4 card",key:e.id,thread:e},null,8,["thread"])))),128)),0===e.store.state.threads.length?((0,a.wg)(),(0,a.iD)("li",g,[d,!0===e.store.state.loginCheck?((0,a.wg)(),(0,a.j4)(W,{key:0,link:{to:"/user/createthread",msg:"スレッドを作成する"},class:"text-primary"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])]),(0,a.Wm)(R,{class:"h-auto ml-auto px-0 col-md-3 col-sm d-inline-block",SideBarItem:{msg:"タグ一覧"}})]),e.store.getters.returnThreadData.length>e.perPage?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",h,[(0,a.Wm)(M,{class:"btn",button:{type:"button",msg:"<"},onClick:t[4]||(t[4]=t=>e.Down())}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Math.ceil(e.store.getters.returnThreadData.length/e.perPage),((t,s)=>((0,a.wg)(),(0,a.j4)(M,{key:t,onClick:t=>e.Display(s+1),class:(0,n.C_)(["page-item mx-2 btn",s+1===e.count?"current":""]),button:{type:"button",msg:`${s+1}`}},null,8,["onClick","button","class"])))),128)),(0,a.Wm)(M,{class:"btn",button:{type:"button",msg:">"},onClick:t[5]||(t[5]=t=>e.Up(e.store.getters.returnThreadData))})])])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("main",k,[(0,a._)("section",v,[(0,a._)("div",null,[(0,a.Wm)(H,{class:"h1 m-0 mb-4 text-sm-left text-center",msg:{msg:"スレッド一覧"}}),(0,a._)("ul",b,[(0,a.Wm)(V,{class:(0,n.C_)([this.$route.path.match(/popular/)?"hovering":""]),link:{to:"/popular_thread",msg:"人気なスレッド",class:"ml-auto mr-3 ml-sm-0",link_class:""}},null,8,["class"]),(0,a.Wm)(V,{class:(0,n.C_)([this.$route.path.match(/recent/)?"hovering":""]),link:{to:"/recent_thread",msg:"最近のスレッド",class:"mr-auto ml-3 mr-sm-0",link_class:""}},null,8,["class"])]),(0,a._)("ul",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.sortThread(e.store.getters.returnThreadData,e.route.name),(e=>((0,a.wg)(),(0,a.j4)(Z,{class:"mb-4 card",key:e.id,thread:e},null,8,["thread"])))),128)),0===e.store.state.threads.length?((0,a.wg)(),(0,a.iD)("li",_,[y,!0===e.store.state.checkLogin?((0,a.wg)(),(0,a.j4)(W,{key:0,link:{to:"/user/createthread",msg:"スレッドを作成する"},class:"text-primary"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])]),e.store.getters.returnThreadData.length>e.perPage?((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",x,[(0,a.Wm)(M,{class:"btn",button:{type:"button",msg:"<"},onClick:t[6]||(t[6]=t=>e.Down())}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Math.ceil(e.store.getters.returnThreadData.length/e.perPage),((t,s)=>((0,a.wg)(),(0,a.j4)(M,{key:t,onClick:t=>e.Display(s+1),class:(0,n.C_)(["page-item mx-2 btn",s+1===e.count?"current":""]),button:{type:"button",msg:`${s+1}`}},null,8,["onClick","button","class"])))),128)),(0,a.Wm)(M,{class:"btn",button:{type:"button",msg:">"},onClick:t[7]||(t[7]=t=>e.Up(e.store.getters.returnThreadData))})])])):(0,a.kq)("",!0)])])),(0,a.Wm)(A)])}var T=s(65),C=s(1173),H=s(8738),V=s(5951),Z=s(7721),W=s(934),R=s(4870),M=s(1579),A=s(2483),B=s(1404),L=(0,a.aZ)({name:"HomeView",components:{ArticleOrganismsVue:C.Z,BigTitleAtomVue:H.Z,ButtonAtomVue:V.Z,RouterLinkMoleculesVue:Z.Z,SideBarOrganismsVue:W.Z,RouterLinkAtom:M.Z,FooterBar:B.Z},setup(){const e=(0,T.oR)(),t=(0,A.yj)(),s=(0,R.iH)(!1),n=(0,R.iH)(!1),r=5,l=(0,R.iH)(1),o=()=>{e.commit("setUserMobile",window.innerWidth)},i=(e,t,s)=>{const a=(t-1)*s,n=a+s;return e.slice(a,n)},c=e=>{l.value!==Math.ceil(e.length/r)&&(l.value+=1)},u=e=>{l.value=e},m=()=>{1!==l.value&&(l.value-=1)},g=(e,t)=>{let s=[...e];switch(t){case"home":s=i(s,l.value,r);break;case"popular_thread":s.sort((function(e,t){return e.comments.length>t.comments.length?-1:e.comments.length<t.comments.length?1:0})),s=i(s,l.value,r);break;default:s.sort((function(e,t){return e.created_at>t.created_at?-1:e.created_at<t.created_at?1:0})),s=i(s,l.value,r);break}return s};return(0,a.bv)((()=>{o(),window.addEventListener("resize",o),e.dispatch("getThreads"),e.dispatch("getUser"),window.Echo.channel("thread-channel").listen("ThreadAdded",(()=>{e.dispatch("getThreads")})),window.Echo.channel("delete-channel").listen("ThreadDeleted",(()=>{e.dispatch("getThreads")}))})),(0,a.Jd)((()=>{window.removeEventListener("resize",o)})),(0,A.ao)((()=>{e.dispatch("getThreads")})),{store:e,route:t,count:l,perPage:r,isPopularHovering:s,isRecentHovering:n,sortThread:g,Up:c,Display:u,Down:m}}}),j=s(89);const P=(0,j.Z)(L,[["render",f],["__scopeId","data-v-1c9c0f31"]]);var S=P}}]);
//# sourceMappingURL=588.ff9bb726.js.map